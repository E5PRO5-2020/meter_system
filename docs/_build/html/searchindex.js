Search.setIndex({docnames:["DriverClass","index","metermeasurement","mqtt","omnipower","test","util_crc16im871a","util_crc16wmbus","util_timezone"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":3,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":2,"sphinx.domains.rst":2,"sphinx.domains.std":1,"sphinx.ext.intersphinx":1,"sphinx.ext.todo":2,"sphinx.ext.viewcode":1,sphinx:56},filenames:["DriverClass.rst","index.rst","metermeasurement.rst","mqtt.rst","omnipower.rst","test.rst","util_crc16im871a.rst","util_crc16wmbus.rst","util_timezone.rst"],objects:{"driver.DriverClass":{IM871A:[0,0,1,""]},"driver.DriverClass.IM871A":{close:[0,1,1,""],open:[0,1,1,""],ping:[0,1,1,""],read_data:[0,1,1,""],reset_module:[0,1,1,""],setup_linkmode:[0,1,1,""]},"meter.MeterMeasurement":{Measurement:[2,0,1,""],MeterMeasurement:[2,0,1,""]},"meter.MeterMeasurement.MeterMeasurement":{add_measurement:[2,1,1,""],as_dict:[2,1,1,""],is_empty:[2,1,1,""],json_dump:[2,1,1,""]},"meter.OmniPower":{AesKeyException:[4,0,1,""],C1Telegram:[4,0,1,""],OmniPower:[4,0,1,""],TelegramParseException:[4,0,1,""]},"meter.OmniPower.C1Telegram":{decrypt_using:[4,1,1,""]},"meter.OmniPower.OmniPower":{add_measurement_to_log:[4,1,1,""],decrypt:[4,1,1,""],dump_log_to_json:[4,1,1,""],extract_measurement_frame:[4,1,1,""],is_this_my:[4,1,1,""],process_telegram:[4,1,1,""],unpack_long_telegram_data:[4,1,1,""],unpack_short_telegram_data:[4,1,1,""]},"mqtt.MqttClient":{MqttClient:[3,0,1,""]},"mqtt.MqttClient.MqttClient":{__init__:[3,1,1,""],disconnect:[3,1,1,""],loop_forever:[3,1,1,""],loop_start:[3,1,1,""],loop_stop:[3,1,1,""],on_connect:[3,1,1,""],publish:[3,1,1,""],subscribe:[3,1,1,""]},"test.test_DriverClass":{IM871A_bad_setup:[5,3,1,""],IM871A_setup:[5,3,1,""],PatchSerial:[5,0,1,""],PipeWriter:[5,0,1,""],input_data:[5,3,1,""],patched_driver:[5,3,1,""],test_CRC_check_fails:[5,3,1,""],test_CRC_check_succes:[5,3,1,""],test_close:[5,3,1,""],test_constructor_destructor:[5,3,1,""],test_driver:[5,3,1,""],test_object_instatiated_false:[5,3,1,""],test_object_instatiated_true:[5,3,1,""],test_pingself_timout:[5,3,1,""],test_read_data:[5,3,1,""],test_setup_linkmode:[5,3,1,""],test_vectors:[5,3,1,""]},"test.test_DriverClass.PatchSerial":{close:[5,1,1,""],read:[5,1,1,""],write:[5,1,1,""]},"test.test_DriverClass.PipeWriter":{close:[5,1,1,""],write:[5,1,1,""]},"test.test_MeterMeasure":{MeasureFix:[5,3,1,""],initialized_measurement_frame:[5,3,1,""],keys:[5,3,1,""],omnipower_setup:[5,3,1,""],test_add_measurement:[5,3,1,""],test_as_dict:[5,3,1,""],test_json_single_measurement:[5,3,1,""],test_meter_measurement_returns_empty:[5,3,1,""]},"test.test_OmniPower":{bad_payload_list:[5,3,1,""],bad_telegrams_list:[5,3,1,""],good_telegrams_list:[5,3,1,""],omnipower_base:[5,3,1,""],omnipower_setup:[5,3,1,""],omnipower_with_no_aes_key:[5,3,1,""],test_OmniTest:[5,3,1,""],test_c1telegram_must_raise_exception:[5,3,1,""],test_decrypt_must_raise_aes_key_error:[5,3,1,""],test_decrypt_must_raise_crc_check_error:[5,3,1,""],test_decrypt_using_must_return_false_for_bad_key:[5,3,1,""],test_decrypt_using_must_return_false_for_bad_payload:[5,3,1,""],test_extract_measurement_frame_returns_empty_if_tlg_not_decrypted:[5,3,1,""],test_json_full_log:[5,3,1,""],test_process_telegram_returns_false_if_not_parsable:[5,3,1,""]},"utils.crc16_im871a":{crc16_im871a_calc:[6,3,1,""],crc16_im871a_check:[6,3,1,""]},"utils.crc16_wmbus":{CrcCheckException:[7,0,1,""],crc16_check:[7,3,1,""],crc16_wmbus:[7,3,1,""]},"utils.timezone":{ZuluTime:[8,0,1,""],zulu_time_str:[8,3,1,""]},"utils.timezone.ZuluTime":{dst:[8,1,1,""],tzname:[8,1,1,""],utcoffset:[8,1,1,""]},meter:{MeterMeasurement:[2,2,0,"-"],OmniPower:[4,2,0,"-"]},mqtt:{MqttClient:[3,2,0,"-"]},test:{test_DriverClass:[5,2,0,"-"],test_MeterMeasure:[5,2,0,"-"],test_OmniPower:[5,2,0,"-"]},utils:{crc16_im871a:[6,2,0,"-"],crc16_wmbus:[7,2,0,"-"],timezone:[8,2,0,"-"]}},objnames:{"0":["py","class","Python class"],"1":["py","method","Python method"],"2":["py","module","Python module"],"3":["py","function","Python function"]},objtypes:{"0":"py:class","1":"py:method","2":"py:module","3":"py:function"},terms:{"0000":4,"00000000":4,"0001":4,"001":4,"0010":4,"0011":[4,7],"003":4,"00z":8,"0101":7,"0110":7,"0111":4,"0250592f":4,"03000000":4,"0320":4,"089b4eb3":4,"0e7d":4,"0x01":4,"0x01870320":4,"0x02":4,"0x03":4,"0x1":4,"0x20":4,"0x20038701":4,"0x27":4,"0x2744":6,"0x2c2d":4,"0x2d":4,"0x2d2c":4,"0x30":4,"0x3870":4,"0x3d65":7,"0x44":4,"0x57686632":4,"0x78":4,"0x79":4,"0x8203":6,"0x87":4,"0x8d":[4,7],"0xa5":6,"0xc1ab":6,"0xffff":7,"1000":4,"1101":7,"1170":[4,7],"11de":4,"128":4,"13757":4,"138c":4,"14448":4,"188851bd":4,"1be369e9":4,"2013":4,"2018":4,"2019":4,"2020":[0,2,3,4,5,6,7,8],"206":4,"215":4,"2187":4,"21870320":4,"2498b44b":4,"255":3,"25t10":8,"25th":8,"2637":6,"27442d2c5768663230028d20cd12340720519df247ff65e751662a300bc4e5c67da86477f0182637":6,"2c2d":4,"2d2c":4,"32666857":4,"38931d14":4,"3d9c":4,"3df7434b":4,"4491":4,"494e":4,"500m":0,"5768":4,"57686632":4,"5e34f083":4,"60dd":4,"617631":4,"61dd":4,"6632":4,"6fc048d4":4,"79138c4491ce000000000000000300000000000000":7,"7bab59":4,"8203":6,"858169":4,"8601":1,"86499abe":4,"8a66a557":4,"8b908138":4,"9831":4,"9a25139e3244cc2e391a8ef6b915b697":4,"abstract":8,"byte":[4,6,7],"case":4,"char":4,"class":[1,5,7],"default":0,"final":7,"float":2,"function":[0,1,3,4,5],"int":4,"long":7,"new":[2,3,4],"return":[2,3,4,5,6,7],"static":3,"true":[2,4,5,6,7],AES:5,Added:2,Bus:[1,4],But:7,NOT:6,Not:5,That:7,The:[0,1,5,7],Then:5,Use:[4,7],Uses:[4,5],Will:[2,3],__init__:3,a676ff79:4,aabo:2,abil:7,abl:0,about:4,abov:5,acc:4,access:4,accum:4,add_measur:[2,5],add_measurement_to_log:[4,5],added:[2,4,5],adding:4,address:4,aes_ctr:4,aes_kei:4,aeskeyexcept:[4,5],after:[0,4],aliv:0,all:[2,3,4,5],allow:8,alreadi:4,also:7,alwai:4,andersen:[2,3,4,7,8],anoth:7,anywai:7,apl:4,applic:4,approx:0,argument:[0,3,6],arriv:0,as_dict:[2,5],ascii:[5,7],attempt:5,author:[0,2,3,4,6,7,8],authoris:3,autoread:5,avoid:5,b1b8f578:4,b405536e:4,bad:[3,5],bad_payload_list:5,bad_telegrams_list:5,base:[2,6,8],bbhibbbbb:4,been:[0,2,4,5],befor:0,being:5,below:4,between:1,bidirect:0,big:4,binari:[4,7],bit:[4,7],block:[0,3,4],bool:[0,4,6,7],breinbjerg:[0,3],broker:3,build:5,built:4,builtin:5,bypass:5,bytestr:6,bytestream:[4,5],c1a:0,c1ab:6,c1b:0,c1telegram:4,c2954a34:4,c2a:0,c2b:0,c42b87f4:4,c4b72dd3:4,calcul:[4,7],callback:3,can:[4,5,7],cannot:5,captur:4,caus:5,ccitt:[1,7],ce000000:4,chain:4,changelog:2,check:[0,1,5,6],classmethod:4,client:3,close:[0,5],cloud:1,code:[4,7],collect:2,commun:[0,1,4],compact:[0,4],compar:[4,7],complement:7,complex:4,comput:[6,7],confirm:[6,7],connect:[0,3,5],consist:2,consol:0,construct:5,consum:4,consumpt:4,contain:[2,4,6],content:1,control:[4,6],correctli:5,count:4,cours:8,cover:1,crc16:[1,5],crc16_check:7,crc16_im871a:6,crc16_im871a_calc:6,crc16_im871a_check:6,crc16_wmbu:7,crc:[0,1,4,5,6],crc_calc:7,crc_recv:7,crccheckexcept:[4,5,7],creat:5,ctr:4,current:[3,4],d3a4f149:4,d58602ec:4,d7000000:4,dai:4,data:[0,2,5,7],datafram:0,date:[0,2,3,4,6,7,8],datetim:[1,2],daylight:8,debug:7,decrypt:5,decrypt_us:[4,5],definit:8,depend:5,describ:7,descript:[0,4,8],destruct:5,dev:[0,5],devic:[4,5,7],dict:2,dif:4,differ:0,directori:0,disconnect:3,divis:7,doc:8,document:1,doe:4,dongl:1,draw:4,drh:4,driver:1,driverclass:0,dst:8,dump:5,dump_log_to_json:4,dure:[4,5],e0caf0b1:4,e93e6af1:4,each:4,easi:8,easier:7,easili:4,either:4,electr:4,ell:[4,7],embed:7,empti:[4,5],enabl:4,enc:4,encod:[4,7],encrypt:[4,7],end:[4,6],endian:4,energi:4,entir:[4,6],establish:5,exampl:[6,7],except:[0,1,5],exception_messag:[4,7],exclud:7,expect:[4,5,6,7],explicit:8,ext:4,extend:4,extract:[4,5],extract_measurement_fram:[4,5],fail:[4,5,7],failur:[],fake:5,fals:[2,4,5],field:[6,7],fifo:5,finit:7,firmwar:4,first:[4,6,7],fix:[0,5],fixtur:5,flag:3,fmt:4,follow:[4,7],format:[0,1,2,4],fractur:4,frame:[0,1,4,5],frequent:0,from:[0,2,3,4,5,6,7,8],full:[4,5,6],fulli:5,function_ptr:3,further:7,futur:8,gatewai:[1,5],gener:[1,7],give:4,given:[0,4],good:5,good_telegrams_list:5,gracefulli:3,grid:4,handl:[1,3,4,5],handler:0,hardwar:5,has:[0,5,7],have:[2,4],header:[0,4],hex:[4,7],hibbbib:4,higher:4,html:8,http:8,identifi:3,iiii:4,im871:[1,5,7],im871a:[1,6],im871a_bad_setup:5,im871a_setup:5,implement:[1,8],imst:6,includ:[3,4,7],incorrect:3,increment:4,index:1,ineffici:7,infinit:7,inform:4,initi:[3,4,5],initialized_measurement_fram:5,input_data:5,insert:4,instantan:4,instanti:[0,3,4],instead:[0,8],integ:7,integr:[6,7],interpret:4,introduc:4,invalid:3,is_empti:[2,4,5],is_this_mi:4,iso:1,iso_8601:8,its:[4,7],itself:5,jakob:[2,5],janu:[2,3,4,6,7,8],json:[2,4,5],json_dump:2,kam:4,kei:[4,5],kind:4,kwh:4,last:[6,7],layer:[4,7],least:5,length:[0,4],librari:8,like:8,link:[4,7],linux:[0,2,3,4],list:5,littl:4,local:5,log:[0,4,5],longer:4,lookup:7,loop:3,loop_forev:3,loop_start:3,loop_stop:3,lsb:[4,7],lsbit:7,machin:5,make:5,manag:8,mangl:5,manufactur:4,manufacturer_id:4,mark:4,mask:4,match:[4,6,7],mean:[3,4],measur:[1,4,5,8],measurefix:5,med:4,medium:4,messag:[1,3,4,5,6,7],message_byt:5,meter:[0,2,4,5],meter_id:[2,4],metermeasur:[1,4],method:[2,5,8],mid:3,minut:4,miss:4,mkfifo:5,mock:5,mock_obj:5,mock_obj_fifo:5,mode:4,modifi:5,modul:[0,1,2,3,4,7],more:4,most:7,mqtt:1,mqttclient:1,msb:7,msbit:7,multi:[4,7],multipl:2,must:[2,3,4,5,6],name:[0,2,3,4,8],none:2,note:8,nov:2,novemb:3,num_byt:5,object:[1,3,4,5,7],observ:4,oct:6,octet:6,octob:[0,2,4,7,8],offici:4,offset:8,omnipower_bas:5,omnipower_setup:5,omnipower_with_no_aes_kei:5,on_connect:3,on_messag:3,on_publish:3,one:[0,2,4,5],onli:[3,4],open:[0,5],oper:5,org:8,otherwis:[2,4],our:[4,5],out:[4,7],outer:7,outlin:7,output:[2,7,8],over:1,overrid:5,own:[5,7],pack:4,page:1,paho:3,pair:2,param_set:3,paramet:3,pars:[1,5],parser:4,part:7,partial:4,pass:[4,5],password:3,patch:5,patched_driv:5,patchseri:5,path:0,pattern:4,payload:[3,5,6,7],payloadcrc:7,pdf:6,per:[4,5],perform:[0,4,7],perhap:4,peripher:5,phase:[1,4],physic:2,ping:[0,5],pipe:[0,5],pipewrit:5,place:5,platform:[0,2,3,4],pointer:[],polynomi:[6,7],port:[0,5,7],possibl:7,power:4,prefer:8,prefix:4,prevent:5,print:[0,1],process:[1,4,5],process_telegram:[4,5],product:4,profil:3,program:[0,3],program_path:0,proof:8,protocol:3,publish:3,purpos:4,push:4,put:0,python:[0,2,3,4,7,8],quantiti:2,rais:[4,5,7],raw:5,read:[0,1,4,5],read_data:0,read_raw_return:5,readout:4,reason:5,recalc:1,receiv:[4,6,7],record:4,recov:5,ref:4,refus:3,regex:4,remaind:7,remoni:[1,8],remov:[0,7],repeat:[4,7],replac:7,repres:7,requir:[4,8],reserv:4,reset:0,reset_modul:0,respons:4,result:[3,7],robust:4,rtc:4,run:[0,3,5],s1m:0,same:[2,4],save:8,search:1,secret:3,see:[4,6,7],self:4,send:[0,4],sent:[1,4,5],seper:0,seri:4,serial:[2,4,5,6],serup:0,server:3,set:[0,3,4,5],setup:[0,3,5],setup_linkmod:0,sever:5,shall:7,shift:7,shorter:0,should:4,show:4,sign:4,signifi:5,signific:7,significantli:7,sinc:4,singl:[0,2,4,5],slice:4,slightli:[4,7],slow:4,snd_nr:4,some:4,sourc:[0,2,3,4,5,6,7,8],spec:5,specif:5,specifi:0,split:7,stamp:8,standard:7,start:[3,4,6],stationari:0,steffen:[0,3,6],step:3,stop:3,store:[2,4,5],str:[0,2,3,4,7,8],strategi:5,string:[2,4],structur:[2,4,7],subscrib:3,subtract:7,succesful:5,success:3,successfulli:5,sum:6,sync:4,synopsi:[0,2,3,4,6,7,8],syslog:0,system:1,tabl:[4,7],tail:4,take:[0,7],taken:[2,4],telegram:[0,1,5,7],telegramparseexcept:4,test:1,test_add_measur:5,test_as_dict:5,test_c1telegram_must_raise_except:5,test_clos:5,test_constructor_destructor:5,test_crc_check_fail:5,test_crc_check_succ:5,test_decrypt_must_raise_aes_key_error:5,test_decrypt_must_raise_crc_check_error:5,test_decrypt_using_must_return_false_for_bad_kei:5,test_decrypt_using_must_return_false_for_bad_payload:5,test_driv:5,test_driverclass:5,test_extract_measurement_frame_returns_empty_if_tlg_not_decrypt:5,test_json_full_log:5,test_json_single_measur:5,test_meter_measurement_returns_empti:5,test_metermeasur:5,test_object_instatiated_fals:5,test_object_instatiated_tru:5,test_omnipow:5,test_omnitest:5,test_pingself_timout:5,test_process_telegram_returns_false_if_not_pars:5,test_read_data:5,test_setup_linkmod:5,test_vector:5,than:7,thi:[0,1,2,3,4,5,7,8],thing:5,thoma:[0,5],thread:3,through:5,time:[2,4,8],timestamp:[2,5,8],timezon:[1,4],topic:3,tpl:4,track:3,trail:6,transceiv:[1,7],transmiss:4,transmit:[0,7],transport:[4,7],treat:7,tri:5,tty:5,ttyusb1:0,tupl:[3,4],two:7,type:[3,4],tzinfo:8,tzname:8,uint:4,unavail:3,understand:7,uniqu:3,unit:[1,2],unless:4,unpack:4,unpack_long_telegram_data:4,unpack_short_telegram_data:4,unsign:4,unsuccesful:5,until:0,unus:3,upstream:1,usb:[1,5],usbx_pip:0,use:3,used:[4,5,7],userdata:3,usernam:3,uses:[1,4,6,7],using:[1,3,4,5,7,8],utc:8,utcoffset:8,util:[1,4],valid:[4,5],valu:[2,3,4,6,7],vari:4,variou:5,vector:[4,5],ver:[0,4],veri:8,version:3,versu:4,vestergaard:2,vif:4,vife:4,wai:[0,4],when:[0,3,4,5,6,7],where:[0,4,5],whether:4,which:[5,7],whole:4,width:7,wiki:8,wikipedia:8,wireless:4,wise:7,within:4,wmbus_hcl_spec_v1:6,wrap:3,write:5,wrong:[4,5],xor:7,xxxx:4,yaml:3,yet:5,zero:8,zulu:[1,5],zulu_time_str:8,zulutim:1},titles:["Implementation of iM871-A driver","Kamstrup OmniPower wm-bus metering","Implementation of generic measurements","MQTT implementation","OmniPower implementation","Unit tests","Utils: CRC16 for IM871-A","Utils: CRC16 for wm-bus","Utils: Timezone handling"],titleterms:{"13757":7,"8601":8,"class":[0,2,3,4,8],"function":[6,7],"long":4,"short":4,AES:4,Bus:0,The:[2,4],algorithm:7,background:7,between:3,bus:[1,4,7],ccitt:6,check:[4,7],cloud:3,comment:7,commun:3,counter:4,crc16:[4,6,7],crc:7,data:4,datetim:8,decrypt:4,dongl:0,driver:[0,5],exampl:4,except:[4,7],field:4,format:8,frame:2,gatewai:3,gener:[0,2],handl:8,histori:[0,4],im871:[0,6],im871a:0,implement:[0,2,3,4,5,6,7],indic:1,integr:4,iso:8,kamstrup:[1,4],link:0,math:7,measur:2,meter:1,metermeasur:[2,5],mode:0,mqtt:3,mqttclient:3,number:4,object:8,omnipow:[1,4,5],overview:[4,7],pars:4,payload:4,print:8,recalc:3,remoni:3,rule:7,session:4,tabl:1,telegram:4,test:5,timezon:8,unit:5,usb:0,util:[6,7,8],version:[0,4],zulu:8,zulutim:8}})